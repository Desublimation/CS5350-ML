import threading
import sys
import csv
import os
import pandas as pd
import math
predict_list = []
InfoTree = {'safety': {'low': {'unacc': {}}, 'med': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}, 'high': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}}}

meTree = {'maint': {'vhigh': {'persons': {'2': {'unacc': {}}, '4': {'acc': {}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'acc': {}, 'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}, 'high': {'doors': {'2': {'unacc': {}, 'persons': {'2': {'unacc': {}}, '4': {'acc': {}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'acc': {}, 'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}, '3': {'good': {}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, '4': {'good': {}, 'safety': {'low': {'unacc': {}}, 'med': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {}, 'med': {}, 'high': {}}}, 'more': {'acc': {}, 'safety': {'low': {}, 'med': {}, 'high': {}}}}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {}, 'med': {}, 'high': {}}}, 'more': {'acc': {}, 'safety': {'low': {}, 'med': {}, 'high': {}}}}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, '5more': {'vgood': {}, 'persons': {'2': {'unacc': {}}, '4': {'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}}}, 'med': {'safety': {'low': {'unacc': {}}, 'med': {'good': {}, 'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {}, 'med': {}, 'high': {}}}, 'more': {'acc': {}, 'safety': {'low': {}, 'med': {}, 'high': {}}}}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'good': {}, 'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {}, 'med': {}, 'high': {}}}, 'more': {'acc': {}, 'safety': {'low': {}, 'med': {}, 'high': {}}}}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'low': {'doors': {'2': {'persons': {'2': {'unacc': {}}, '4': {'acc': {}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'acc': {}, 'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}, '3': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, '4': {'safety': {'low': {'unacc': {}}, 'med': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {}, 'med': {}, 'high': {}}}, 'more': {'acc': {}, 'safety': {'low': {}, 'med': {}, 'high': {}}}}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'acc': {}, 'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}, 'safety': {'low': {}, 'med': {}, 'high': {}}}, 'more': {'acc': {}, 'safety': {'low': {}, 'med': {}, 'high': {}}}}, 'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, '5more': {'persons': {'2': {'unacc': {}}, '4': {'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'safety': {'low': {'unacc': {}}, 'med': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'buying': {'vhigh': {'acc': {}}, 'high': {'acc': {}}, 'med': {'vgood': {}}, 'low': {'lug_boot': {'small': {'good': {}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}}}}}

giTree = {'safety': {'low': {'unacc': {}}, 'med': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'lug_boot': {'small': {'unacc': {}, 'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}, 'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}, 'high': {'persons': {'2': {'unacc': {}}, '4': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}, 'more': {'buying': {'vhigh': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'high': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'med': {'maint': {'vhigh': {'acc': {}, 'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'acc': {}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}, 'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}, 'low': {'maint': {'vhigh': {'doors': {'2': {'unacc': {}}, '3': {'good': {}}, '4': {'good': {}}, '5more': {'good': {}}}}, 'high': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'med': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {'vgood': {}}, 'big': {'vgood': {}}}}, 'low': {'lug_boot': {'small': {'doors': {'2': {'unacc': {}}, '3': {}, '4': {}, '5more': {'good': {}}}}, 'med': {}, 'big': {'vgood': {}}}}}}}}}}}}

col_names = ['buying','maint','doors','persons','lug_boot','safety','label']
label_result = ['unacc', 'acc', 'good', 'vgood']
form = {"buying":[],"maint":[],"doors":[],"persons":[],"lug_boot":[],"safety":[],"label":[]}


def loadData(dataLine: list[list[str]]) -> bool:
    try:
        # formArr.append(dataLine)
        for key, value in zip(form.keys(), dataLine):
           form[key].append(value)
        
        return True
    except:
        return False

def predict_result(colNames, rowList, myTree, lastKey=""):
    if all(not v for v in myTree.values()):
        # Label found
        l = list(myTree.keys())
        if len(l)>0:
            predict_list.append(l[0])  # Print the label only

        else:
            predict_list.append(lastKey)  # Print the label only

        return  # Stop further recursion once the label is printed
    
    for key, val in myTree.items():
        if key in rowList:
            # Make a copy of rowList to avoid altering it in recursion
            newRowList = rowList.copy()
            newRowList.remove(key)
            predict_result(colNames, newRowList, val,key)
            return  # Exit once a valid path is followed
        
        elif key in colNames:
            # Make a copy of colNames to avoid altering it in recursion
            newColNames = colNames.copy()
            newColNames.remove(key)
            predict_result(newColNames, rowList, val,key)
            return  # Exit once a valid path is followed


def read_csv_file(file_name, tree):
    with open(file_name, 'r') as file:
        reader = csv.reader(file)
        
        for row in reader:
            # print(row)
            predict_result(col_names,row,tree)
            loadData(row)
        df = pd.DataFrame(form)

def calculate_error():
    wrong= 0
    for i in range(len(predict_list)):
        if predict_list[i]!=form['label'][i]:
            wrong+=1
    print(f"error ratio: {wrong}/{len(form['label'])} = {wrong/len(form['label'])}")

if __name__ == "__main__":
    if len(sys.argv) > 1:
        file_name = sys.argv[1]  # The first argument is the file name
        treeType = int(sys.argv[2])
        treeList = [InfoTree,meTree,giTree]
        typelist = ["Information Tree","ME tree","GI tree"]
        read_csv_file(file_name,treeList[treeType])
        print(f"predict by {typelist[treeType]}")
        calculate_error()
        print()
        # dTree = DecisionTree(file_name)
    else:
        print("Please provide a CSV file, and predict type as int: [0]Info Gain;[1]Mejority Error[2]Gini Index.")